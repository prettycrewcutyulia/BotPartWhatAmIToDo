# BotPartWhatAmIToDo

## Описание
BotPartWhatAmIToDo - это серверная часть Telegram-бота, разработанная на платформе .NET. Этот проект предназначен для обеспечения взаимодействия между пользователями Telegram и внешним сервером задач. Бот обрабатывает команды от пользователей и может отправлять уведомления пользователям.

## Основные функции
- Обработка команды `/start` с параметром (email пользователя)
- Отправка данных на основной сервер для регистрации пользователя
- Получение и отправка сообщений пользователям через API
- Интеграция с внешним сервером для обмена данными

## Технологии
- .NET 9.0
- Telegram.Bot (версия 22.5.0-dev.15)
- ASP.NET Core Web API
- Swagger для документации API
- Newtonsoft.Json для сериализации/десериализации JSON
- DotNetEnv для работы с переменными окружения

## Требования
- .NET 9.0 SDK или новее
- Доступ к API Telegram

## Настройка
1. Клонировать репозиторий
2. Создать файл `.env` в корневой директории проекта со следующими параметрами:
   ```
   TELEGRAM_BOT_TOKEN=ваш_токен_бота
   SERVER_URL=url_вашего_сервера
   ACCESS_TOKEN=токен_доступа_к_серверу
   ```
3. Восстановить пакеты NuGet: `dotnet restore`
4. Собрать проект: `dotnet build`
5. Запустить: `dotnet run`

## API Endpoints
- `POST /api/bot/send-message` - отправка сообщения пользователю Telegram
  - Параметры запроса:
    ```json
    {
      "chatId": 123456789,
      "message": "Текст сообщения"
    }
    ```

## Структура проекта
- `Program.cs` - точка входа и настройка приложения
- `BotUpdateHandler.cs` - обработчик обновлений от Telegram API
- `BotController.cs` - контроллер API для внешних вызовов
- `Models/` - модели данных для запросов и ответов

## Взаимодействие с внешними сервисами
Бот взаимодействует с внешним сервером через HTTP-запросы, используя авторизацию по токену. При получении команды `/start` с параметром email, бот отправляет данные на сервер для регистрации пользователя.
